<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Ask Me First</title>
  <style>
    * { box-sizing: border-box; transition: all 0.3s ease; }
    body {
      margin: 0; padding: 0;
      font-family: 'Cairo', sans-serif;
      background: #121212; color: #fff;
    }
    body.light-mode {
      background: #fff; color: #000;
    }
    header {
      display: flex; align-items: center; padding: 1rem;
      background: #1f1f1f; position: sticky; top: 0; z-index: 1000;
    }
    .toggle-mode {
      font-size: 1.8rem; cursor: pointer; margin-right: auto;
      user-select: none;
    }
    .toggle-mode.rotate { transform: rotate(180deg); }
    h1 { margin: 0; font-size: 1.5rem; text-align: center; flex: 1; }
    .container {
      max-width: 900px; margin: auto; padding: 1rem;
    }
    .chat-box {
      background: #2c2c2c; border-radius: 10px; padding: 1rem;
      margin-bottom: 1rem; min-height: 150px;
    }
    .response {
      background: #3a3a3a; padding: .8rem; border-radius: 8px;
      line-height: 1.5; margin-top: .5rem;
    }
    .input-group {
      display: flex; gap: 10px;
    }
    input[type="text"] {
      flex: 1; padding: .6rem; border: none;
      border-radius: 6px; outline: none; font-size: 1rem;
      background: #1f1f1f; color: inherit;
    }
    .input-group button {
      padding: .6rem 1rem; background: #00ffd9;
      border: none; border-radius: 6px; cursor: pointer;
      font-weight: bold;
    }
    .build-button {
      display: block; margin: 1rem auto;
      background: #ff9800; color: #fff;
      padding: .8rem 1.2rem; border: none; border-radius: 8px;
      font-size: 1rem; cursor: pointer;
    }
    .sections {
      display: flex; flex-wrap: wrap; gap: 10px; margin-top: 1rem;
    }
    .section {
      flex: 1 1 30%; background: #2c2c2c; text-align: center;
      padding: 1rem; border-radius: 10px; cursor: pointer;
      user-select: none;
    }
    .products {
      display: none; padding: 1rem; background: #1a1a1a;
      margin-top: .5rem; border-radius: 10px;
    }
    .filters {
      display: flex; gap: 10px; margin-bottom: 1rem;
      flex-wrap: wrap;
    }
    .filters button {
      padding: .4rem .8rem; border: none; border-radius: 5px;
      background: #444; color: #fff; cursor: pointer;
    }
    .filters button.active {
      background: #00ffd9; color: #000;
    }
    .product-item {
      display: flex; gap: 10px; margin-bottom: 1rem;
      align-items: center;
    }
    .product-item img {
      width: 100px; height: 100px; object-fit: cover;
      border-radius: 8px;
    }
    .product-details { flex: 1; }
    @media(max-width:600px){
      .section { flex:1 1 100%; }
      .product-item { flex-direction: column; align-items: flex-start; }
    }
  </style>
</head>
<body class="dark-mode">
  <header>
    <div id="modeIcon" class="toggle-mode" onclick="toggleMode()">🌙</div>
    <h1>Ask Me First</h1>
  </header>
  <div class="container">
    <div class="chat-box">
      🤖 <strong>أقدر أساعدك إزاي؟</strong>
      <div id="responseBox" class="response">
        اسألني عن أي منتج أو تجميعة كمبيوتر...
      </div>
    </div>
    <div class="input-group">
      <input id="userInput" type="text" placeholder="اكتب سؤالك هنا..." onkeydown="if(event.key==='Enter') getResponse()">
      <button onclick="getResponse()">إرسال</button>
      <button class="build-button" onclick="toggleBuild()">🔧 طلب تجميعة كمبيوتر</button>
    </div>

    <div class="sections">
      <div class="section" onclick="toggleProducts('keyboards')">⌨️ كيبوردات</div>
      <div class="section" onclick="toggleProducts('mice')">🖱️ ماوسات</div>
      <div class="section" onclick="toggleProducts('screens')">🖥️ شاشات</div>
      <div class="section" onclick="toggleProducts('cpus')">⚙️ معالجات</div>
      <div class="section" onclick="toggleProducts('gpus')">🎮 كروت شاشة</div>
    </div>

    <!-- Products Sections -->
    <div id="keyboards" class="products">
      <div class="filters">
        <button onclick="applyFilter('keyboards','asc',this)">الأرخص</button>
        <button onclick="applyFilter('keyboards','desc',this)">الأعلى سعرًا</button>
      </div>
      <div id="keyboards-list"></div>
    </div>
    <div id="mice" class="products">
      <div class="filters">
        <button onclick="applyFilter('mice','asc',this)">الأرخص</button>
        <button onclick="applyFilter('mice','desc',this)">الأعلى سعرًا</button>
      </div>
      <div id="mice-list"></div>
    </div>
    <div id="screens" class="products">
      <div class="filters">
        <button onclick="applyFilter('screens','asc',this)">الأرخص</button>
        <button onclick="applyFilter('screens','desc',this)">الأعلى سعرًا</button>
      </div>
      <div id="screens-list"></div>
    </div>
    <div id="cpus" class="products">
      <div class="filters">
        <button onclick="applyFilter('cpus','asc',this)">الأرخص</button>
        <button onclick="applyFilter('cpus','desc',this)">الأعلى سعرًا</button>
      </div>
      <div id="cpus-list"></div>
    </div>
    <div id="gpus" class="products">
      <div class="filters">
        <button onclick="applyFilter('gpus','asc',this)">الأرخص</button>
        <button onclick="applyFilter('gpus','desc',this)">الأعلى سعرًا</button>
      </div>
      <div id="gpus-list"></div>
    </div>
  </div>

  <script>
    // Data sources simulation
    const sources = {
      amazon: {
        keyboards: [
          {name:'Redragon K552',price:1700,img:'https://m.media-amazon.com/images/I/61eVx3kMKjL.jpg',link:'https://amazon.eg'},
          {name:'Logitech G Pro X',price:2900,img:'https://m.media-amazon.com/images/I/61L2i3Uxd0L._AC_SL1500_.jpg',link:'https://amazon.com'}
        ],
        mice: [
          {name:'Logitech G203',price:900,img:'https://m.media-amazon.com/images/I/61LtuGzXeaL.jpg',link:'https://amazon.eg'},
          {name:'Razer DeathAdder',price:1850,img:'https://m.media-amazon.com/images/I/61doeA1v4iL.jpg',link:'https://amazon.com'}
        ]
        // ... similarly for screens, cpus, gpus
      },
      jumia: {
        keyboards: [
          {name:'Redragon K617',price:1750,img:'https://example.com/k617.jpg',link:'https://jumia.com.eg'},
          {name:'Aula F2066',price:1200,img:'https://example.com/aula.jpg',link:'https://jumia.com.eg'}
        ],
        mice: [
          {name:'Redragon M601',price:800,img:'https://example.com/m601.jpg',link:'https://jumia.com.eg'},
          {name:'HyperX Pulsefire',price:2000,img:'https://example.com/hyperx.jpg',link:'https://jumia.com.eg'}
        ]
        // ... similarly for screens, cpus, gpus
      }
    };

    function toggleMode() {
      document.body.classList.toggle("light-mode");
      document.getElementById("modeIcon").classList.toggle("rotate");
    }

    function toggleBuild() {
      const buildSection = document.getElementById('build-section');
      buildSection.style.display = buildSection.style.display === 'block' ? 'none' : 'block';
    }

    function toggleProducts(category) {
      document.querySelectorAll('.products').forEach(section => section.style.display = 'none');
      const section = document.getElementById(category);
      section.style.display = section.style.display === 'block' ? 'none' : 'block';
      loadProducts(category);
    }

    function loadProducts(category) {
      const productList = document.getElementById(category + '-list');
      const source = sources.amazon[category] || [];
      productList.innerHTML = source.map(item => `
        <div class="product-item">
          <img src="${item.img}" alt="${item.name}">
          <div class="product-details">
            <strong>${item.name}</strong>
            <p>${item.price} جنيه</p>
            <a href="${item.link}" target="_blank">شراء</a>
          </div>
        </div>
      `).join('');
    }

    function applyFilter(category, order, button) {
      const productList = document.getElementById(category + '-list');
      const source = sources.amazon[category] || [];
      const sortedProducts = [...source].sort((a, b) => order === 'asc' ? a.price - b.price : b.price - a.price);
      productList.innerHTML = sortedProducts.map(item => `
        <div class="product-item">
          <img src="${item.img}" alt="${item.name}">
          <div class="product-details">
            <strong>${item.name}</strong>
            <p>${item.price} جنيه</p>
            <a href="${item.link}" target="_blank">شراء</a>
          </div>
        </div>
      `).join('');
      button.classList.toggle('active');
    }

    function getResponse() {
      const userInput = document.getElementById("userInput").value;
      if (!userInput) return;
      document.getElementById("responseBox").innerHTML = 'جارٍ البحث...';
      setTimeout(() => {
        document.getElementById("responseBox").innerHTML = 'تم العثور على النتائج!';
      }, 2000);
    }
  </script>
</body>
</html>
