<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>متجر الأجهزة الإلكترونية</title>
    <style>
        /* --- نفس الـ CSS السابق مع تعديلات طفيفة لتناسب العناصر الجديدة --- */
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #222;
            color: #eee;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        body.light-mode {
            background-color: #f4f4f4;
            color: #333;
        }
        .container {
            width: 90%;
            margin: 20px auto;
        }
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            margin-bottom: 20px;
        }
        header h1 {
            margin: 0;
        }
        nav a {
            color: #eee;
            text-decoration: none;
            margin-left: 15px;
            transition: color 0.3s ease;
        }
        nav a:hover {
            color: #bbb;
        }
        body.light-mode nav a {
            color: #333;
        }
        body.light-mode nav a:hover {
            color: #555;
        }
        #theme-toggle {
            background: none;
            border: none;
            color: #eee;
            font-size: 1.5em;
            cursor: pointer;
            outline: none;
            transition: transform 0.5s ease, color 0.3s ease;
        }
        #theme-toggle.light-mode {
            color: #333;
        }
        #theme-toggle.rotated {
            transform: rotate(360deg);
        }
        .search-container {
            display: flex;
            margin-bottom: 10px;
        }
        #search-input {
            padding: 10px;
            border: 1px solid #555;
            background-color: #333;
            color: #eee;
            border-radius: 5px 0 0 5px;
            flex-grow: 1;
        }
        body.light-mode #search-input {
            background-color: #fff;
            color: #333;
            border-color: #ccc;
        }
        #search-button {
            padding: 10px 15px;
            background-color: #5cb85c;
            color: white;
            border: none;
            border-radius: 0 5px 5px 0;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        #search-button:hover {
            background-color: #4cae4c;
        }
        #ask-button {
            display: block;
            width: 100%;
            padding: 10px 15px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            margin-bottom: 10px;
        }
        #ask-button:hover {
            background-color: #0056b3;
        }
        .section {
            margin-bottom: 20px;
            border: 1px solid #555;
            border-radius: 5px;
            overflow: hidden;
            background-color: #333;
        }
        body.light-mode .section {
            background-color: #fff;
            border-color: #ccc;
        }
        .section-header-container {
            padding: 15px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #444;
            color: #eee;
            transition: background-color 0.3s ease;
        }
        body.light-mode .section-header-container {
            background-color: #ddd;
            color: #333;
        }
        .section-header-container:hover {
            background-color: #555;
        }
        body.light-mode .section-header-container:hover {
            background-color: #ccc;
        }
        .section-header {
            font-weight: bold;
        }
        .section-header-arrow {
            font-size: 1.2em;
            transition: transform 0.3s ease;
        }
        .section-header-arrow.open {
            transform: rotate(90deg);
        }
        .section-content {
            padding: 15px;
            display: none;
        }
        .section-content.visible {
            display: block;
        }
        .products {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        .product {
            border: 1px solid #555;
            border-radius: 5px;
            padding: 15px;
            text-align: center;
            background-color: #444;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            cursor: pointer; /* لجعل المنتج قابل للنقر لعرض التفاصيل */
        }
        body.light-mode .product {
            background-color: #eee;
            border-color: #bbb;
        }
        .product:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        body.light-mode .product:hover {
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        .product img {
            max-width: 100%;
            height: auto;
            margin-bottom: 10px;
        }
        .product h3 {
            margin-top: 0;
            margin-bottom: 5px;
            font-size: 1.1em;
        }
        .product .price {
            color: #5cb85c;
            margin-bottom: 5px;
        }
        .product .rating {
            color: gold;
            margin-bottom: 10px;
        }
        .product button {
            padding: 8px 12px;
            margin: 5px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em;
            transition: background-color 0.3s ease;
        }
        .product .details-btn {
            background-color: #007bff;
            color: white;
        }
        .product .details-btn:hover {
            background-color: #0056b3;
        }
        .product .favorite-btn {
            background-color: #f0ad4e;
            color: white;
        }
        .product .favorite-btn.active {
            background-color: #d9534f;
        }
        .product .favorite-btn:hover {
            background-color: #eea236;
        }
        .sort-filter-controls {
            margin-bottom: 15px;
            display: flex;
            gap: 10px;
            align-items: center;
        }
        .filter-select {
            padding: 8px 15px;
            border: 1px solid #555;
            border-radius: 5px;
            background-color: #444;
            color: #eee;
            cursor: pointer;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        body.light-mode .filter-select {
            border-color: #ccc;
            background-color: #eee;
            color: #333;
        }
        .filter-select:hover {
            background-color: #555;
            color: #eee;
        }
        body.light-mode .filter-select:hover {
            background-color: #ddd;
            color: #333;
        }
        .range-filter-container {
            display: flex;
            gap: 10px;
            align-items: center;
            margin-top: 10px;
        }
        .range-filter-container input[type="number"] {
            padding: 8px;
            border: 1px solid #555;
            border-radius: 5px;
            background-color: #333;
            color: #eee;
            width: 80px;
        }
        body.light-mode .range-filter-container input[type="number"] {
            border-color: #ccc;
            background-color: #fff;
            color: #333;
        }
        .range-filter-container button {
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            background-color: #007bff;
            color: white;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .range-filter-container button:hover {
            background-color: #0056b3;
        }
        /* --- Modal لعرض تفاصيل المنتج --- */
        #product-details-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            overflow-y: auto;
        }
        .modal-content {
            background-color: #333;
            color: #eee;
            border-radius: 5px;
            padding: 20px;
            margin: 50px auto;
            width: 80%;
            max-width: 600px;
            position: relative;
        }
        body.light-mode .modal-content {
            background-color: #fff;
            color: #333;
        }
        .close-modal-btn {
            position: absolute;
            top: 10px;
            left: 10px;
            font-size: 1.5em;
            cursor: pointer;
            background: none;
            border: none;
            color: #eee;
        }
        body.light-mode .close-modal-btn {
            color: #333;
        }
        .product-full-details img {
            max-width: 100%;
            height: auto;
            margin-bottom: 15px;
        }
        .product-full-details h2 {
            margin-top: 0;
            margin-bottom: 10px;
        }
        .product-full-details p {
            line-height: 1.6;
            margin-bottom: 10px;
        }
        .product-full-details .price {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 15px;
        }
        .product-full-details .rating {
            font-size: 1.1em;
            margin-bottom: 15px;
        }
    </style>
</head>
<body class="dark-mode">
    <div class="container">
        <header>
            <h1>متجر الأجهزة الإلكترونية</h1>
            <nav>
                <button id="theme-toggle">🌙</button>
                <a href="favorites.html" id="favorites-link">المفضلة</a>
                <a href="builds.html" id="smart-builds-link">التجميعات الذكية</a>
            </nav>
        </header>

        <div class="search-container">
            <input type="text" id="search-input" placeholder="ابحث عن منتج...">
            <button id="search-button">بحث</button>
        </div>
        <button id="ask-button">أسئلة شائعة</button>

        <div class="section" id="graphicsCards-section">
            <div class="section-header-container">
                <h2 class="section-header">كروت الشاشة</h2>
                <span class="section-header-arrow open">▼</span>
            </div>
            <div class="section-content visible" id="graphicsCards-products">
                <div class="sort-filter-controls">
                    <div class="range-filter-container">
                        <label for="min-price-graphicsCards">السعر من:</label>
                        <input type="number" id="min-price-graphicsCards" placeholder="أقل سعر">
                        <label for="max-price-graphicsCards">إلى:</label>
                        <input type="number" id="max-price-graphicsCards" placeholder="أعلى سعر">
                        <button class="apply-range-filter" data-category="graphicsCards">تطبيق</button>
                    </div>
                </div>
                <div class="products">
                    </div>
            </div>
        </div>

        <div class="section" id="processors-section">
            <div class="section-header-container">
                <h2 class="section-header">المعالجات</h2>
                <span class="section-header-arrow">▼</span>
            </div>
            <div class="section-content" id="processors-products">
                <div class="sort-filter-controls">
                    <div class="range-filter-container">
                        <label for="min-price-processors">السعر من:</label>
                        <input type="number" id="min-price-processors" placeholder="أقل سعر">
                        <label for="max-price-processors">إلى:</label>
                        <input type="number" id="max-price-processors" placeholder="أعلى سعر">
                        <button class="apply-range-filter" data-category="processors">تطبيق</button>
                    </div>
                </div>
                <div class="products">
                    </div>
            </div>
        </div>

        <div class="section" id="memory-section">
            <div class="section-header-container">
                <h2 class="section-header">الذاكرة العشوائية (RAM)</h2>
                <span class="section-header-arrow">▼</span>
            </div>
            <div class="section-content" id="memory-products">
                <div class="sort-filter-controls">
                    <div class="range-filter-container">
                        <label for="min-price-memory">السعر من:</label>
                        <input type="number" id="min-price-memory" placeholder="أقل سعر">
                        <label for="max-price-memory">إلى:</label>
                        <input type="number" id="max-price-memory" placeholder="أعلى سعر">
                        <button class="apply-range-filter" data-category="memory">تطبيق</button></div>
                <div class="products">
                    </div>
            </div>
        </div>

        <div class="section" id="storage-section">
            <div class="section-header-container">
                <h2 class="section-header">وحدات التخزين</h2>
                <span class="section-header-arrow">▼</span>
            </div>
            <div class="section-content" id="storage-products">
                <div class="sort-filter-controls">
                    <div class="range-filter-container">
                        <label for="min-price-storage">السعر من:</label>
                        <input type="number" id="min-price-storage" placeholder="أقل سعر">
                        <label for="max-price-storage">إلى:</label>
                        <input type="number" id="max-price-storage" placeholder="أعلى سعر">
                        <button class="apply-range-filter" data-category="storage">تطبيق</button>
                    </div>
                </div>
                <div class="products">
                    </div>
            </div>
        </div>

        <div class="section" id="headphones-section">
            <div class="section-header-container">
                <h2 class="section-header">السماعات</h2>
                <span class="section-header-arrow">▼</span>
            </div>
            <div class="section-content" id="headphones-products">
                <div class="sort-filter-controls">
                    <div class="range-filter-container">
                        <label for="min-price-headphones">السعر من:</label>
                        <input type="number" id="min-price-headphones" placeholder="أقل سعر">
                        <label for="max-price-headphones">إلى:</label>
                        <input type="number" id="max-price-headphones" placeholder="أعلى سعر">
                        <button class="apply-range-filter" data-category="headphones">تطبيق</button>
                    </div>
                </div>
                <div class="products">
                    </div>
            </div>
        </div>

        <div class="section" id="keyboards-section">
            <div class="section-header-container">
                <h2 class="section-header">الكيبوردات</h2>
                <span class="section-header-arrow">▼</span>
            </div>
            <div class="section-content" id="keyboards-products">
                <div class="sort-filter-controls">
                    <div class="range-filter-container">
                        <label for="min-price-keyboards">السعر من:</label>
                        <input type="number" id="min-price-keyboards" placeholder="أقل سعر">
                        <label for="max-price-keyboards">إلى:</label>
                        <input type="number" id="max-price-keyboards" placeholder="أعلى سعر">
                        <button class="apply-range-filter" data-category="keyboards">تطبيق</button>
                    </div>
                </div>
                <div class="products">
                    </div>
            </div>
        </div>

        <div class="section" id="mice-section">
            <div class="section-header-container">
                <h2 class="section-header">الماوسات</h2>
                <span class="section-header-arrow">▼</span>
            </div>
            <div class="section-content" id="mice-products">
                <div class="sort-filter-controls">
                    <div class="range-filter-container">
                        <label for="min-price-mice">السعر من:</label>
                        <input type="number" id="min-price-mice" placeholder="أقل سعر">
                        <label for="max-price-mice">إلى:</label>
                        <input type="number" id="max-price-mice" placeholder="أعلى سعر">
                        <button class="apply-range-filter" data-category="mice">تطبيق</button>
                    </div>
                </div>
                <div class="products">
                    </div>
            </div>
        </div>

        <div id="product-details-modal">
            <div class="modal-content">
                <button class="close-modal-btn">&times;</button>
                <div class="product-full-details">
                    <img src="" alt="صورة المنتج" id="modal-image">
                    <h2 id="modal-title"></h2>
                    <p id="modal-details"></p>
                    <p class="price" id="modal-price"></p>
                    <p class="rating" id="modal-rating"></p>
                    </div>
            </div>
        </div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const themeToggle = document.getElementById('theme-toggle');
            const body = document.body;
            const searchInput = document.getElementById('search-input');
            const searchButton = document.getElementById('search-button');
            const askButton = document.getElementById('ask-button');
            const productDetailsModal = document.getElementById('product-details-modal');
            const closeModalBtn = productDetailsModal.querySelector('.close-modal-btn');
            const modalImage = document.getElementById('modal-image');
            const modalTitle = document.getElementById('modal-title');
            const modalDetails = document.getElementById('modal-details');
            const modalPrice = document.getElementById('modal-price');
            const modalRating = document.getElementById('modal-rating');
            const sectionHeaders = document.querySelectorAll('.section-header-container');
            const applyPriceFilters = document.querySelectorAll('.apply-range-filter');
            let favorites = JSON.parse(localStorage.getItem('favorites')) || [];

            let catalog = {
                graphicsCards: [
                    {
                        id: 'nvidia-rtx-4090-24gb',
                        name: 'NVIDIA GeForce RTX 4090',
                        memory: '24 جيجابايت GDDR6X',
                        price: 238500.00,
                        source: 'Ubuy',
                        rating: 5.0,
                        details: 'أقوى كارت شاشة من NVIDIA حتى الآن، مثالي للألعاب بدقة 4K والتصميم ثلاثي الأبعاد.',
                        brand: 'NVIDIA',
                        category: 'الفئة العليا',
                        image: 'https://m.media-amazon.com/images/I/81wtjYEqDlL._AC_SL1500_.jpg'
                    },
                    {
                        id: 'asus-rtx-4090-24gb',
                        name: 'اسوس انفيديا جي فورس RTX 4090',
                        memory: '24 جيجا بايت DDR6X',
                        price: 262367.10,
                        source: 'Microless.com',
                        rating: 4.5,
                        brand: 'NVIDIA',
                        category: 'الفئة العليا',
                        image: 'https://m.media-amazon.com/images/I/81wtjYEqDlL._AC_SL1500_.jpg'
                    },
                    {
                        id: 'nvidia-rtx-4080-16gb',
                        name: 'NVIDIA GeForce RTX 4080',
                        memory: '16 جيجابايت GDDR6X',
                        price: 148983.00,
                        source: 'Ubuy',
                        rating: 5.0,
                        brand: 'NVIDIA',
                        category: 'الفئة العليا',
                        image: 'https://m.media-amazon.com/images/I/81wtjYEqDlL._AC_SL1500_.jpg'
                    },
                    {
                        id: 'zotac-rtx-4080-super-trinity-oc',
                        name: 'ZOTAC GAMING GeForce RTX 4080 SUPER Trinity OC',
                        price: 59280.00,
                        source: 'PCS - Souq',
                        rating: 4.8,
                        details: 'أداء ممتاز مع تصميم تبريد ثلاثي المراوح، مناسب للاستخدام المكثف.',
                        brand: 'NVIDIA',
                        category: 'الفئة العليا',
                        memory: '16GB',
                        image: 'https://m.media-amazon.com/images/I/81wtjYEqDlL._AC_SL1500_.jpg'
                    },
                    {
                        id: 'gigabyte-rtx-4070-ti-super-oc',
                        name: 'Gigabyte WINDFORCE GeForce RTX 4070 Ti SUPER OC',
                        memory: '16GB GDDR6X',
                        price: 46800.00,
                        source: 'PCS - Souq',
                        brand: 'NVIDIA',
                        category: 'الفئة العليا',
                        image: 'https://m.media-amazon.com/images/I/81wtjYEqDlL._AC_SL1500_.jpg'
                    },
                    {
                        id: 'zotac-rtx-4070-12gb',
                        name: 'بطاقة رسومات الألعاب زوتاك جي فورس RTX 4070',
                        memory: '12 جيجا',
                        price: 31666.00,
                        source: 'PCS - Souq',
                        rating: 4.9,
                        brand: 'NVIDIA',
                        category: 'الفئة العليا',
                        image: 'https://m.media-amazon.com/images/I/81wtjYEqDlL._AC_SL1500_.jpg'
                    },
                    {
                        id: 'msi-rtx-4060-ventus-2x-oc',
                        name: 'MSI GeForce RTX 4060 Ventus 2X OC',
                        memory: '8 جيجا',
                        price: 16980.00,
                        source: 'Amazon.eg - Seller',
                        rating: 4.7,
                        details: 'خيار اقتصادي بأداء جيد للألعاب بدقة 1080p.',
                        brand: 'NVIDIA',
                        category: 'الفئة المتوسطة',
                        image: 'https://m.media-amazon.com/images/I/81wtjYEqDlL._AC_SL1500_.jpg'
                    },
                    {
                        id: 'asus-gtx-1660s-a6g',
                        name: 'Asus Rog Strix GTX 1660S A6G الإصدار المتقدم للألعاب',
                        memory: '6GB',
                        price: 11785.56,
                        source: 'Microless.com',
                        rating: 4.8,
                        brand: 'NVIDIA',
                        category: 'الفئة الاقتصادية',
                        image: 'https://m.media-amazon.com/images/I/81wtjYEqDlL._AC_SL1500_.jpg'
                    },
                    {
                        id: 'nvidia-rtx-4080-super-16gb-new',
                        name: 'RTX 4080 Super',
                        memory: '16GB',
                        price: 56000.00,
                        notes: 'أداء فائق للألعاب بدقة 4K والتصميم الاحترافي',
                        brand: 'NVIDIA',
                        category: 'الفئة العليا',
                        image: 'https://m.media-amazon.com/images/I/81wtjYEqDlL._AC_SL1500_.jpg'
                    },
                    {
                        id: 'nvidia-rtx-4070-ti-super-16gb-new',
                        name: 'RTX 4070 Ti Super',
                        memory: '16GB',
                        price: 48500.00,
                        notes: 'أداء عالي، مناسب للألعاب بدقة 4K',
                        brand: 'NVIDIA',
                        category: 'الفئة العليا',
                        image: 'https://m.media-amazon.com/images/I/81wtjYEqDlL._AC_SL1500_.jpg'
                    },
                    {
                        id: 'nvidia-rtx-4070-super-12gb-new',
                        name: 'RTX 4070 Super',
                        memory: '12GB',
                        price: 36524.50,
                        notes: 'توازن بين الأداء والسعر، مناسب للألعاب بدقة 1440p و4K',
                        brand: 'NVIDIA',
                        category: 'الفئة العليا',
                        image: 'https://m.media-amazon.com/images/I/81wtjYEqDlL._AC_SL1500_.jpg'
                    },
                    {
                        id: 'nvidia-rtx-4060-ti-16gb-new',
                        name: 'RTX 4060 Ti',
                        memory: '16GB',
                        price: 24974.50,
                        notes: 'أداء ممتاز للألعاب بدقة 1440p',
                        brand: 'NVIDIA',
                        category: 'الفئة المتوسطة',
                        image: 'https://m.media-amazon.com/images/I/81wtjYEqDlL._AC_SL1500_.jpg'
                    },
                    {
                        id: 'nvidia-rtx-4060-ti-8gb-new',
                        name: 'RTX 4060 Ti',
                        memory: '8GB',
                        price: 19000.00,
                        notes: 'أداء جيد للألعاب بدقة 1080p و1440p',
                        brand: 'NVIDIA',
                        category: 'الفئة المتوسطة',
                        image: 'https://m.media-amazon.com/images/I/81wtjYEqDlL._AC_SL1500_.jpg'
                    },
                    {
                        id: 'nvidia-rtx-4060-8gb-new',
                        name: 'RTX 4060',
                        memory: '8GB',
                        price: 15749.50,
                        notes: 'خيار اقتصادي مع أداء مناسب للألعاب بدقة 1080p',
                        brand: 'NVIDIA',
                        category: 'الفئة المتوسطة',
                        image: 'https://m.media-amazon.com/images/I/81wtjYEqDlL._AC_SL1500_.jpg'
                    },
                    {
                        id: 'nvidia-rtx-3050-6gb-new',
                        name: 'RTX 3050',
                        memory: '6GB',
                        price: 10287.00,
                        notes: 'مناسب للألعاب بدقة 1080p مع إعدادات متوسطة',
                        brand: 'NVIDIA',
                        category: 'الفئة الاقتصادية',
                        image: 'https://m.media-amazon.com/images/I/81wtjYEqDlL._AC_SL1500_.jpg'
                    },
                    {
                        id: 'nvidia-gtx-1660-super-6gb-new',
                        name: 'GTX 1660 Super',
                        memory: '6GB',
                        price: 8800.00,
                        notes: 'أداء جيد للألعاب بدقة 1080p',
                        brand: 'NVIDIA',
                        category: 'الفئة الاقتصادية',
                        image: 'https://m.media-amazon.com/images/I/81wtjYEqDlL._AC_SL1500_.jpg'
                    },
                    {
                        id: 'nvidia-gt-730-4gb',
                        name: 'GT 730',
                        memory: '4GB DDR3',
                        price: 3050.00,
                        notes: 'مناسب للاستخدامات الأساسية ومشاهدة الفيديو',
                        brand: 'NVIDIA',
                        category: 'الفئة الاقتصادية',
                        image: 'https://m.media-amazon.com/images/I/81wtjYEqDlL._AC_SL1500_.jpg'
                    },
                    {
                        id: 'amd-rx-7900-xtx-24gb',
                        name: 'RX 7900 XTX',
                        memory: '24GB',
                        price: 39900.00,
                        notes: 'أداء فائق، منافس لـ RTX 4090',
                        brand: 'AMD',
                        category: 'الفئة العليا',
                        image: 'https://m.media-amazon.com/images/I/81wtjYEqDlL._AC_SL1500_.jpg'
                    },
                    {
                        id: 'amd-rx-7900-xt-20gb',
                        name: 'RX 7900 XT',
                        memory: '20GB',
                        price: 36500.00,
                        notes: 'أداء عالي، مناسب للألعاب بدقة 4K',
                        brand: 'AMD',
                        category:'الفئة العليا',
                        image: 'https://m.media-amazon.com/images/I/81wtjYEqDlL._AC_SL1500_.jpg'
                    },
                    {
                        id: 'amd-rx-7700-xt-12gb',
                        name: 'RX 7700 XT',
                        memory: '12GB',
                        price: 22725.00,
                        notes: 'أداء ممتاز للألعاب بدقة 1440p',
                        brand: 'AMD',
                        category: 'الفئة المتوسطة',
                        image: 'https://m.media-amazon.com/images/I/81wtjYEqDlL._AC_SL1500_.jpg'
                    },
                    {
                        id: 'amd-rx-7600-8gb',
                        name: 'RX 7600',
                        memory: '8GB',
                        price: 13500.00,
                        notes: 'خيار جيد للألعاب بدقة 1080p و1440p',
                        brand: 'AMD',
                        category: 'الفئة المتوسطة',
                        image: 'https://m.media-amazon.com/images/I/81wtjYEqDlL._AC_SL1500_.jpg'
                    },
                    {
                        id: 'amd-rx-6750-xt-12gb',
                        name: 'RX 6750 XT',
                        memory: '12GB',
                        price: 18500.00,
                        notes: 'توازن بين الأداء والسعر',
                        brand: 'AMD',
                        category: 'الفئة المتوسطة',
                        image: 'https://m.media-amazon.com/images/I/81wtjYEqDlL._AC_SL1500_.jpg'
                    },
                    {
                        id: 'amd-rx-6500-xt-4gb',
                        name: 'RX 6500 XT',
                        memory: '4GB',
                        price: 8450.00,
                        notes: 'خيار اقتصادي للألعاب الخفيفة',
                        brand: 'AMD',
                        category: 'الفئة الاقتصادية',
                        image: 'https://m.media-amazon.com/images/I/81wtjYEqDlL._AC_SL1500_.jpg'
                    },
                    {
                        id: 'amd-rx-580-8gb',
                        name: 'RX 580',
                        memory: '8GB',
                        price: 11200.00,
                        notes: 'أداء جيد للألعاب بدقة 1080p',
                        brand: 'AMD',
                        category: 'الفئة الاقتصادية',
                        image: 'https://m.media-amazon.com/images/I/81wtjYEqDlL._AC_SL1500_.jpg'
                    }
                ],
                processors: [
                    {
                        id: 'intel-i3-13100',
                        name: 'Intel Core i3-13100',
                        coresThreads: '4 أنوية / 8 خيوط',
                        baseMaxClock: '3.3 – 4.5 جيجاهرتز',
                        notes: 'مناسبة للمهام اليومية والمكتبية',
                        brand: 'Intel',
                        price: 3000,
                        rating: 4.0,
                        image: 'https://m.media-amazon.com/images/I/51T93-uWj4L._AC_SL1000_.jpg',
                        details: 'تفاصيل معالج Intel Core i3-13100...'
                    },
                    {
                        id: 'intel-i5-14600k',
                        name: 'Intel Core i5-14600K',
                        coresThreads: '6-14 نواة / 12-20 خيط',
                        baseMaxClock: '2.5 – 5.3 جيجاهرتز',
                        notes: 'توازن بين الأداء والسعر',
                        brand: 'Intel',
                        price: 7000,
                        rating: 4.5,
                        image: 'https://m.media-amazon.com/images/I/51T93-uWj4L._AC_SL1000_.jpg',
                        details: 'تفاصيل معالج Intel Core i5-14600K...'
                    },
                    {
                        id: 'amd-ryzen3-5300g',
                        name: 'AMD Ryzen 3 5300G',
                        coresThreads: '4 أنوية / 8 خيوط',
                        baseMaxClock: '3.8 – 4.2 جيجاهرتز',
                        notes: 'مناسبة للمهام اليومية والمكتبية',
                        brand: 'AMD',
                        price: 2500,
                        rating: 3.8,
                        image: 'https://m.media-amazon.com/images/I/51T93-uWj4L._AC_SL1000_.jpg',
                        details: 'تفاصيل معالج AMD Ryzen 3 5300G...'
                    }
                ],
                memory: [
                    {
                        id: 'ram-ddr4-4gb-2400',
                        name: 'Crucial 4GB DDR4 2400MHz',
                        capacity: '4 جيجابايت',
                        speed: '2400 MHz',
                        brand: 'Crucial',
                        price: 434.5, // متوسط السعر
                        notes: 'الاستخدامات الأساسية',
                        type: 'DDR4',
                        rating: 3.9,
                        image: 'https://m.media-amazon.com/images/I/41J6nKvm3GL._AC_SL1000_.jpg'
                    },
                    {
                        id: 'ram-ddr4-8gb-2666-kingston',
                        name: 'Kingston 8GB DDR4 2666MHz',
                        capacity: '8 جيجابايت',
                        speed: '2666 MHz',
                        brand: 'Kingston',
                        price: 669.5, // متوسط السعر
                        notes: 'الاستخدامات المتوسطة',
                        type: 'DDR4',
                        rating: 4.2,
                        image: 'https://m.media-amazon.com/images/I/41J6nKvm3GL._AC_SL1000_.jpg'
                    },
                    {
                        id: 'ram-ddr4-8gb-3000-corsair',
                        name: 'Corsair Vengeance LPX 8GB DDR4 3000MHz',
                        capacity: '8 جيجابايت',
                        speed: '3000 MHz',
                        brand: 'Corsair',
                        price: 937,
                        notes: 'الألعاب الخفيفة',
                        type: 'DDR4',
                        rating: 4.0,
                        image: 'https://m.media-amazon.com/images/I/41J6nKvm3GL._AC_SL1000_.jpg'
                    },
                    {
                        id: 'ram-ddr4-8gb-3200-kingstonfury',
                        name: 'Kingston Fury Beast 8GB DDR4 3200MHz',
                        capacity: '8 جيجابايت',
                        speed: '3200 MHz',
                        brand: 'Kingston',
                        price: 1024,
                        notes: 'الألعاب وتعدد المهام',
                        type: 'DDR4',
                        rating: 4.5,
                        image: 'https://m.media-amazon.com/images/I/41J6nKvm3GL._AC_SL1000_.jpg'
                    },
                    {
                        id: 'ram-ddr4-8gb-3600-corsairhyperx',
                        name: 'Corsair / HyperX 8GB DDR4 3600MHz',
                        capacity: '8 جيجابايت',
                        speed: '3600 MHz',
                        brand: 'Corsair / HyperX',
                        price: 2150,
                        notes: 'الأداء العالي',
                        type: 'DDR4',
                        rating: 4.8,
                        image: 'https://m.media-amazon.com/images/I/41J6nKvm3GL._AC_SL1000_.jpg'
                    },
                    {
                        id: 'ram-ddr4-16gb-2666-crucial',
                        name: 'Crucial 16GB DDR4 2666MHz',
                        capacity: '16 جيجابايت',
                        speed: '2666 MHz',
                        brand: 'Crucial',
                        price: 1099,
                        notes: 'الاستخدامات المتقدمة',
                        type: 'DDR4',
                        rating: 4.3,
                        image: 'https://m.media-amazon.com/images/I/41J6nKvm3GL._AC_SL1000_.jpg'
                    },
                    {
                        id: 'ram-ddr4-16gb-3200-corsaircrucial',
                        name: 'Corsair / Crucial 16GB DDR4 3200MHz',
                        capacity: '16 جيجابايت',
                        speed: '3200 MHz',
                        brand: 'Corsair / Crucial',
                        price: 1949,
                        notes: 'الألعاب الثقيلة والتصميم',
                        type: 'DDR4',
                        rating: 4.7,
                        image: 'https://m.media-amazon.com/images/I/41J6nKvm3GL._AC_SL1000_.jpg'
                    },
                    {
                        id: 'ram-ddr4-16gb-3600-corsairoris',
                        name: 'Corsair / Oris 16GB DDR4 3600MHz',
                        capacity: '16 جيجابايت',
                        speed: '3600 MHz',
                        brand: 'Corsair / Oris',
                        price: 2749,
                        notes: 'الأداء الاحترافي',
                        type: 'DDR4',
                        rating: 4.9,
                        image: 'https://m.media-amazon.com/images/I/41J6nKvm3GL._AC_SL1000_.jpg'
                    },
                    {
                        id: 'ram-ddr4-32gb-3200-crucialcorsair',
                        name: 'Crucial / Corsair 32GB DDR4 3200MHz',
                        capacity: '32 جيجابايت',
                        speed: '3200 MHz',
                        brand: 'Crucial / Corsair',
                        price: 3444.5,
                        notes: 'التصميم والمونتاج',
                        type: 'DDR4',
                        rating: 4.6,
                        image: 'https://m.media-amazon.com/images/I/41J6nKvm3GL._AC_SL1000_.jpg'
                    },
                    {
                        id: 'ram-ddr4-32gb-3600-hyperxcorsair',
                        name: 'HyperX / Corsair 32GB DDR4 3600MHz',
                        capacity: '32 جيجابايت',
                        speed: '3600 MHz',
                        brand: 'HyperX / Corsair',
                        price: 3444.5,
                        notes: 'المهام الثقيلة',
                        type: 'DDR4',
                        rating: 4.8,
                        image: 'https://m.media-amazon.com/images/I/41J6nKvm3GL._AC_SL1000_.jpg'
                    },
                    {
                        id: 'ram-ddr3-2gb-1333-kingston',
                        name: 'Kingston 2GB DDR3 1333MHz',
                        capacity: '2 جيجابايت',
                        speed: '1333 MHz',
                        brand: 'Kingston',
                        price: 234.5,
                        notes: 'الاستخدامات الأساسية',
                        type: 'DDR3',
                        rating: 3.5,
                        image: 'https://m.media-amazon.com/images/I/41J6nKvm3GL._AC_SL1000_.jpg'
                    },
                    {
                        id: 'ram-ddr3-4gb-1600-kingstonhynixpatriot',
                        name: 'Kingston / Hynix / Patriot 4GB DDR3 1600MHz',
                        capacity: '4 جيجابايت',
                        speed: '1600 MHz',
                        brand: 'Kingston / Hynix / Patriot',
                        price: 332.5,
                        notes: 'الاستخدامات المتوسطة',
                        type: 'DDR3',
                        rating: 3.8,
                        image: 'https://m.media-amazon.com/images/I/41J6nKvm3GL._AC_SL1000_.jpg'
                    },
                    {
                        id: 'ram-ddr3-8gb-1600-kingstoncrucial',
                        name: 'Kingston / Crucial 8GB DDR3 1600MHz',
                        capacity: '8 جيجابايت',
                        speed: '1600 MHz',
                        brand: 'Kingston / Crucial',
                        price: 905,
                        notes: 'الاستخدامات المتقدمة',
                        type: 'DDR3',
                        rating: 4.1,
                        image: 'https://m.media-amazon.com/images/I/41J6nKvm3GL._AC_SL1000_.jpg'
                    },
                    {
                        id: 'ram-ddr5-16gb-4800-crucial',
                        name: 'Crucial 16GB DDR5 4800MHz',
                        capacity: '16 جيجابايت',
                        speed: '4800 MHz',
                        brand: 'Crucial',
                        price: 2634,
                        notes: 'الألعاب الحديثة والتصميم',
                        type: 'DDR5',
                        rating: 4.5,
                        image: 'https://m.media-amazon.com/images/I/41J6nKvm3GL._AC_SL1000_.jpg'
                    },
                    {
                        id: 'ram-ddr5-32gb-6000-teamgroup',
                        name: 'TeamGroup T-Force Delta RGB 32GB DDR5 6000MHz',
                        capacity: '32 جيجابايت',
                        speed: '6000 MHz',
                        brand: 'TeamGroup',
                        price: 3019,
                        notes: 'الأداء الاحترافي',
                        type: 'DDR5',
                        rating: 4.7,
                        image: 'https://m.media-amazon.com/images/I/41J6nKvm3GL._AC_SL1000_.jpg'
                    }
                ],
                storage: [
                    { id: 'ssd-1', name: 'Samsung 500GB SSD', price: 900, rating: 4.5, image: 'https://m.media-amazon.com/images/I/61wGk99mD3L._AC_SL1500_.jpg' },
                    { id: 'hdd-1', name: 'Seagate 1TB HDD', price: 500, rating: 3.9, image: 'https://m.media-amazon.com/images/I/71CjW9wE1jL._AC_SL1500_.jpg' }
                ],
                headphones: [
                    {
                        id: 'headphones-gamma-gt304',
                        name: 'Gamma GT-304 2.0',
                        price: 199,
                        features: 'تصميم خشبي، صوت ستيريو، مناسبة للمكاتب',
                        source: 'كيمو ستور',
                        rating: 3.5,
                        image: 'https://m.media-amazon.com/images/I/61wGk99mD3L._AC_SL1500_.jpg'
                    },
                    {
                        id: 'headphones-kisonli-l1040',
                        name: 'Kisonli L-1040 RGB 2.0',
                        price: 195,
                        features: 'إضاءة RGB، صوت نقي، تصميم مدمج',
                        source: 'كيمو ستور',
                        rating: 4.1,
                        image: 'https://m.media-amazon.com/images/I/61wGk99mD3L._AC_SL1500_.jpg'
                    },
                    {
                        id: 'headphones-hp-dhs2111',
                        name: 'HP DHS-2111 2.0',
                        price: 525,
                        features: 'صوت عالي الجودة، تصميم أنيق، مناسبة للمنزل والمكتب',
                        source: 'كيمو ستور',
                        rating: 4.3,
                        image: 'https://m.media-amazon.com/images/I/61wGk99mD3L._AC_SL1500_.jpg'
                    },
                    {
                        id: 'headphones-jbl-partybox1000',
                        name: 'JBL Partybox 1000',
                        price: 7999,
                        features: 'إضاءة LED، صوت قوي، ميكروفون وجيتار مدخل',
                        source: 'كيمو ستور',
                        rating: 4.8,
                        image: 'https://m.media-amazon.com/images/I/61wGk99mD3L._AC_SL1500_.jpg'
                    },
                    {
                        id: 'headphones-anker-soundcore-rave-neo',
                        name: 'Anker Soundcore Rave Neo',
                        price: 5399,
                        features: 'إضاءة LED، صوت جهير قوي، بطارية تدوم حتى 18 ساعة',
                        source: 'دريم 2000',
                        rating: 4.6,
                        image: 'https://m.media-amazon.com/images/I/61wGk99mD3L._AC_SL1500_.jpg'
                    }
                ],
                keyboards: [
                    {
                        id: 'keyboard-redragon-k624-pro',
                        name: 'Redragon K624 Pro – لاسلكي 60% RGB',
                        description: 'لوحة مفاتيح ميكانيكية بإضاءة خلفية LED و63 مفتاحًا، تدعم الاتصال عبر 2.4G وBluetooth وكابل Type-C.',
                        price: 3199,
                        source: 'Games2Egypt، Noon',
                        rating: 4.5,
                        image: 'https://m.media-amazon.com/images/I/61wGk99mD3L._AC_SL1500_.jpg'
                    },
                    {
                        id: 'keyboard-redragon-k614-anivia',
                        name: 'Redragon K614 Anivia – سلكية 60%',
                        description: 'لوحة مفاتيح ميكانيكية سلكية رفيعة للغاية بنسبة 60%، مزودة بمفاتيح حمراء صامتة وإضاءة RGB.',
                        price: 1749,
                        source: 'Games2Egypt، Noon',
                        rating: 4.2,
                        image: 'https://m.media-amazon.com/images/I/61wGk99mD3L._AC_SL1500_.jpg'
                    },
                    {
                        id: 'keyboard-meetion-mk500',
                        name: 'Meetion MK500 – مفاتيح زرقاء عربية',
                        description: 'لوحة مفاتيح ميكانيكية سلكية بمفاتيح OUTEMU الزرقاء، مزودة بإضاءة خلفية LED ومساند للذراعين قابلة للإزالة.',
                        price: 1599,
                        source: 'Compumarts، Noon',
                        rating: 4.0,
                        image: 'https://m.media-amazon.com/images/I/61wGk99mD3L._AC_SL1500_.jpg'
                    }
                ],
                mice: [
                    {
                        id: 'mouse-redragon-m612',
                        name: 'Redragon M612 Predator RGB',
                        price: 949,
                        features: 'دقة 8000 نقطة في البوصة، 9 أزرار قابلة للبرمجة، إضاءة RGB',
                        source: 'جوميا',
                        rating: 4.3,
                        image: 'https://m.media-amazon.com/images/I/61wGk99mD3L._AC_SL1500_.jpg'
                    },
                    {
                        id: 'mouse-redragon-m715',
                        name: 'Redragon M715 DAGGER',
                        price: 949,
                        features: 'دقة 10000 نقطة في البوصة، تصميم مريح، أزرار قابلة للبرمجة',
                        source: 'جوميا',
                        rating: 4.1,
                        image: 'https://m.media-amazon.com/images/I/61wGk99mD3L._AC_SL1500_.jpg'
                    }
                ]
            };

            function toggleTheme() {
                body.classList.toggle('light-mode');
                themeToggle.classList.toggle('light-mode');
                themeToggle.classList.add('rotated');
                setTimeout(() => {
                    themeToggle.classList.remove('rotated');
                }, 500);
            }

            function renderProducts(category, productList) {
                const productsContainer = document.getElementById(category + '-products').querySelector('.products');
                productsContainer.innerHTML = '';
                productList.forEach(product => {
                    const productDiv = document.createElement('div');
                    productDiv.classList.add('product');
                    productDiv.dataset.productId = product.id;
                    productDiv.dataset.productCategory = category;

                    const img = document.createElement('img');
                    img.src = product.image || 'https://via.placeholder.com/150'; // صورة افتراضية
                    img.alt = product.name;

                    const h3 = document.createElement('h3');
                    h3.textContent = product.name;

                    const price = document.createElement('p');
                    price.classList.add('price');
                    price.textContent = `${product.price.toFixed(2)} جنيه`;

                    const rating = document.createElement('p');
                    rating.classList.add('rating');
                    rating.textContent = '⭐'.repeat(Math.round(product.rating || 0));

                    const detailsButton = document.createElement('button');
                    detailsButton.classList.add('details-btn');
                    detailsButton.textContent = 'عرض التفاصيل';
                    detailsButton.addEventListener('click', () => showProductDetails(product));

                    const favoriteButton = document.createElement('button');
                    favoriteButton.classList.add('favorite-btn');
                    favoriteButton.textContent = favorites.includes(product.id) ? 'إزالة من المفضلة' : 'أضف للمفضلة';
                    favoriteButton.addEventListener('click', () => toggleFavorite(product.id, favoriteButton));

                    productDiv.appendChild(img);
                    productDiv.appendChild(h3);
                    productDiv.appendChild(price);
                    productDiv.appendChild(rating);
                    productDiv.appendChild(detailsButton);
                    productDiv.appendChild(favoriteButton);

                    productsContainer.appendChild(productDiv);
                });
            }

            function showProductDetails(product) {
                modalImage.src = product.image || 'https://via.placeholder.com/300';
                modalImage.alt = product.name;
                modalTitle.textContent = product.name;
                modalDetails.textContent = product.details || 'لا توجد تفاصيل متاحة لهذا المنتج.';
                modalPrice.textContent = `${product.price.toFixed(2)} جنيه`;
                modalRating.textContent = '⭐'.repeat(Math.round(product.rating || 0));
                productDetailsModal.style.display = 'block';
            }

            function closeProductDetailsModal() {
                productDetailsModal.style.display = 'none';
            }

            function toggleFavorite(productId, button) {
                const index = favorites.indexOf(productId);
                if (index > -1) {
                    favorites.splice(index, 1);
                    button.textContent = 'أضف للمفضلة';
                    button.classList.remove('active');
                } else {
                    favorites.push(productId);
                    button.textContent = 'إزالة من المفضلة';
                    button.classList.add('active');
                }
                localStorage.setItem('favorites', JSON.stringify(favorites));
            }

            function searchProducts() {
                const searchTerm = searchInput.value.toLowerCase();
                for (const category in catalog) {
                    const filteredProducts = catalog[category].filter(product =>
                        product.name.toLowerCase().includes(searchTerm)
                    );
                    renderProducts(category, filteredProducts);
                }
            }

            function applyRangeFilter(category) {
                const minPriceInput = document.getElementById(`min-price-${category}`);
                const maxPriceInput = document.getElementById(`max-price-${category}`);
                const minPrice = parseFloat(minPriceInput.value) || 0;
                const maxPrice = parseFloat(maxPriceInput.value) || Infinity;

                const filteredProducts = catalog[category].filter(product =>
                    product.price >= minPrice && product.price <= maxPrice
                );
                renderProducts(category, filteredProducts);
            }

            // Initial rendering
            for (const category in catalog) {
                renderProducts(category, catalog[category]);
            }

            // Event listeners
            themeToggle.addEventListener('click', toggleTheme);
            searchButton.addEventListener('click', searchProducts);
            searchInput.addEventListener('input', searchProducts);
            closeModalBtn.addEventListener('click', closeProductDetailsModal);

            sectionHeaders.forEach(header => {
                header.addEventListener('click', function() {
                    const content = this.nextElementSibling;
                    const arrow = this.querySelector('.section-header-arrow');
                    content.classList.toggle('visible');
                    arrow.classList.toggle('open');
                });
            });

            applyPriceFilters.forEach(button => {
                button.addEventListener('click', function() {
                    const category = this.dataset.category;
                    applyRangeFilter(category);
                });
            });

            // حفظ حالة الأقسام المفتوحة في Local Storage (مثال بسيط)
            const openSections = JSON.parse(localStorage.getItem('openSections')) || {'graphicsCards-section': true};
            sectionHeaders.forEach(header => {
                const content = header.nextElementSibling;
                const arrow = header.querySelector('.section-header-arrow');
                const sectionId = header.parentNode.id;
                if (openSections[sectionId]) {
                    content.classList.add('visible');
                    arrow.classList.add('open');
                }
                header.addEventListener('click', () => {
                    openSections[sectionId] = content.classList.contains('visible');
                    localStorage.setItem('openSections', JSON.stringify(openSections));
                });
            });
        });
    </script>
</body>
</html>
